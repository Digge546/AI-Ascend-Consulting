document.addEventListener('DOMContentLoaded', () => {
    const menuBtn = document.getElementById('menu-btn');
    const menuOverlay = document.getElementById('menu-overlay');
    const menuText = document.getElementById('menu-text');
    const menuIconContainer = document.getElementById('menu-icon-container');
    const menuLinks = document.querySelectorAll('.menu-link');
    const navbar = document.getElementById('navbar');
    
    let isMenuOpen = false;

    // Toggle Menu Function
    function toggleMenu() {
        isMenuOpen = !isMenuOpen;
        
        if (isMenuOpen) {
            // Open Menu
            menuOverlay.style.transform = 'translateY(0)';
            menuText.textContent = 'Close';
            menuIconContainer.classList.add('bg-white', 'text-black');
            
            // Change icon to X (using innerHTML for Lucide logic)
            menuIconContainer.innerHTML = '<i data-lucide="x" class="w-4 h-4"></i>';
        } else {
            // Close Menu
            menuOverlay.style.transform = 'translateY(-100%)';
            menuText.textContent = 'Menu';
            menuIconContainer.classList.remove('bg-white', 'text-black');
            
            // Change icon back to Menu
            menuIconContainer.innerHTML = '<i data-lucide="menu" class="w-4 h-4"></i>';
        }
        
        // Re-initialize icons for the new content
        lucide.createIcons();
    }

    // Event Listener for Button
    menuBtn.addEventListener('click', toggleMenu);

    // Close menu when a link is clicked
    menuLinks.forEach(link => {
        link.addEventListener('click', () => {
            if (isMenuOpen) toggleMenu();
        });
    });

    // Scroll Effect for Navbar
    window.addEventListener('scroll', () => {
        if (window.scrollY > 50) {
            navbar.classList.remove('py-8', 'bg-transparent');
            navbar.classList.add('py-4', 'bg-[#050508]/90', 'backdrop-blur-md', 'border-b', 'border-white/5');
        } else {
            navbar.classList.add('py-8', 'bg-transparent');
            navbar.classList.remove('py-4', 'bg-[#050508]/90', 'backdrop-blur-md', 'border-b', 'border-white/5');
        }
    });
});
